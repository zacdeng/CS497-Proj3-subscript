{"ast":null,"code":"import _objectSpread from\"/Users/zacdeng/Study/git_repo/subscript/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/zacdeng/Study/git_repo/subscript/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useUserState}from\"./firebase\";import\"./css/LeftCard.css\";import List from\"@mui/material/List\";import ListItem from\"@mui/material/ListItem\";import ListItemButton from\"@mui/material/ListItemButton\";import ChevronRightIcon from'@mui/icons-material/ChevronRight';import ListItemText from\"@mui/material/ListItemText\";import Button from\"@mui/material/Button\";import Modal from\"@mui/material/Modal\";import Box from\"@mui/material/Box\";import TextField from\"@mui/material/TextField\";import DateAdapter from\"@mui/lab/AdapterDayjs\";import LocalizationProvider from\"@mui/lab/LocalizationProvider\";import DatePicker from\"@mui/lab/DatePicker\";import{Typography}from\"@mui/material\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Descriptions={description:\"Subscriptions\"};var SubscriptionBar=function SubscriptionBar(_ref){var name=_ref.name,price=_ref.price,date=_ref.date,index=_ref.index,deleteSubscription=_ref.deleteSubscription,status=_ref.status;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isClicked=_useState2[0],setIsClicked=_useState2[1];var ListItemStyleStatic={borderRadius:2,bgcolor:\"rgba(255, 255, 255, 0.9)\",boxShadow:2,marginBottom:2,width:\"170%\"};var ListItemStyleLogin={borderRadius:2,bgcolor:\"rgba(255, 255, 255, 0.9)\",boxShadow:2,marginBottom:2,width:\"80%\"};var clicked=function clicked(){setIsClicked(!isClicked);};var mouseLeave=function mouseLeave(){if(isClicked)setTimeout(function(){setIsClicked(!isClicked);},500);};return/*#__PURE__*/_jsx(ListItem,{disablePadding:true,sx:function sx(){return status===1?ListItemStyleStatic:ListItemStyleLogin;},children:/*#__PURE__*/_jsxs(ListItemButton,{onClick:clicked,onMouseLeave:mouseLeave,children:[/*#__PURE__*/_jsx(ChevronRightIcon,{}),/*#__PURE__*/_jsx(ListItemText,{primary:name,style:{textAlign:\"center\"}}),/*#__PURE__*/_jsx(ListItemText,{primary:\"$ \"+price,style:{textAlign:\"center\"}}),/*#__PURE__*/_jsx(ListItemText,{primary:date.toDateString(),style:{textAlign:\"center\"}}),isClicked&&/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return deleteSubscription(index);},children:\"Delete?\"})]})});};var SubscriptionList=function SubscriptionList(_ref2){var subscriptions=_ref2.subscriptions,setSubscriptions=_ref2.setSubscriptions;var deleteSubscription=function deleteSubscription(index){var subsCopy=subscriptions;subsCopy.splice(index,1);console.log(subsCopy);setSubscriptions(subsCopy);};return/*#__PURE__*/_jsx(List,{children:subscriptions.map(function(e,index){return/*#__PURE__*/_jsx(SubscriptionBar,{name:e.name,price:e.price,date:e.date,index:index,deleteSubscription:deleteSubscription,status:0});})});};var FormModal=function FormModal(_ref3){var open=_ref3.open,handleClose=_ref3.handleClose,closeModal=_ref3.closeModal;var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),price=_useState6[0],setPrice=_useState6[1];var today=new Date();var _useState7=useState(today),_useState8=_slicedToArray(_useState7,2),date=_useState8[0],setDate=_useState8[1];var style={position:\"absolute\",top:\"50%\",left:\"50%\",transform:\"translate(-50%, -50%)\",width:\"50%\",bgcolor:\"rgba(255, 255, 255, .95)\",borderRadius:8,boxShadow:24,p:4,display:\"flex\",flexFlow:\"column nowrap\",padding:\"5rem\"};var inputStyle={margin:\"0.5rem 0\",marginBottom:\"15px\"};var handleCloseModal=function handleCloseModal(name,price,date){handleClose(name,price,date);setName('');setPrice('');setDate(today);};return/*#__PURE__*/_jsx(Modal,{open:open,onClose:closeModal,\"aria-labelledby\":\"modal-modal-title\",\"aria-describedby\":\"modal-modal-description\",children:/*#__PURE__*/_jsxs(Box,{sx:style,children:[/*#__PURE__*/_jsx(Typography,{sx:inputStyle,children:\" Enter Subscription Data: \"}),/*#__PURE__*/_jsx(TextField,{sx:inputStyle,id:\"outlined-basic\",label:\"Name\",variant:\"outlined\",value:name,onChange:function onChange(newName){return setName(newName.target.value);}}),/*#__PURE__*/_jsx(TextField,{sx:inputStyle,label:\"Price\",value:price,inputProps:{inputMode:\"numeric\",pattern:\"[0-9]*\"},onChange:function onChange(newPrice){return setPrice(newPrice.target.value);}}),/*#__PURE__*/_jsx(LocalizationProvider,{sx:inputStyle,dateAdapter:DateAdapter,children:/*#__PURE__*/_jsx(DatePicker,{sx:inputStyle,label:\"Due Date\",value:date,onChange:function onChange(newDate){setDate(newDate.$d);},renderInput:function renderInput(params){return/*#__PURE__*/_jsx(TextField,_objectSpread({},params));}})}),/*#__PURE__*/_jsx(Button,{style:{marginTop:\"20px\"},variant:\"contained\",onClick:function onClick(){return handleCloseModal(name,price,date);},children:\"Submit Subscription\"})]})});};var LeftCardStatic=function LeftCardStatic(){var style={borderRadius:2,marginTop:10,marginLeft:10};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"descriptions\",children:[/*#__PURE__*/_jsx(\"div\",{children:Descriptions.description}),/*#__PURE__*/_jsxs(List,{sx:style,children:[/*#__PURE__*/_jsx(SubscriptionBar,{name:\"Netfix\",price:17.99,date:new Date(),index:0,deleteSubscription:function deleteSubscription(){},status:1}),/*#__PURE__*/_jsx(SubscriptionBar,{name:\"Adobe\",price:19.99,date:new Date(),index:1,deleteSubscription:function deleteSubscription(){},status:1}),/*#__PURE__*/_jsx(SubscriptionBar,{name:\"Spotify\",price:4.99,date:new Date(),index:2,deleteSubscription:function deleteSubscription(){},status:1}),/*#__PURE__*/_jsx(SubscriptionBar,{name:\"Paste\",price:14.99,date:new Date(),index:3,deleteSubscription:function deleteSubscription(){},status:1})]})]})});};var LeftCardLogin=function LeftCardLogin(_ref4){var subscriptions=_ref4.subscriptions,setSubscriptions=_ref4.setSubscriptions,handleOpen=_ref4.handleOpen,handleClose=_ref4.handleClose,closeModel=_ref4.closeModel,open=_ref4.open;return/*#__PURE__*/_jsxs(\"div\",{className:\"leftCardLogin\",children:[subscriptions.length>0&&/*#__PURE__*/_jsx(SubscriptionList,{subscriptions:subscriptions,setSubscriptions:setSubscriptions}),/*#__PURE__*/_jsx(Button,{padding:10,margin:5,variant:\"contained\",onClick:handleOpen,children:\"Add Subscription\"}),/*#__PURE__*/_jsx(FormModal,{open:open,handleClose:handleClose,closeModal:closeModel})]});};export var LeftCard=function LeftCard(_ref5){var subscriptions=_ref5.subscriptions,setSubscriptions=_ref5.setSubscriptions;var _useUserState=useUserState(),_useUserState2=_slicedToArray(_useUserState,1),user=_useUserState2[0];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),open=_useState10[0],setOpen=_useState10[1];var handleOpen=function handleOpen(){setOpen(true);};var closeModel=function closeModel(){setOpen(false);};var handleClose=function handleClose(name,price,date){console.log(name,price,date);var subsCopy=subscriptions;if(name&&price&&date){subsCopy.push({name:name,price:price,date:date});setSubscriptions(subsCopy);setOpen(false);}else{alert('Enter valid inputs');}};return/*#__PURE__*/_jsx(\"div\",{className:\"leftcard\",children:user?/*#__PURE__*/_jsx(LeftCardLogin,{subscriptions:subscriptions,setSubscriptions:setSubscriptions,handleOpen:handleOpen,handleClose:handleClose,closeModel:closeModel,open:open}):/*#__PURE__*/_jsx(LeftCardStatic,{})});};","map":{"version":3,"sources":["/Users/zacdeng/Study/git_repo/subscript/src/utilities/LeftCard.js"],"names":["React","useState","useUserState","List","ListItem","ListItemButton","ChevronRightIcon","ListItemText","Button","Modal","Box","TextField","DateAdapter","LocalizationProvider","DatePicker","Typography","Descriptions","description","SubscriptionBar","name","price","date","index","deleteSubscription","status","isClicked","setIsClicked","ListItemStyleStatic","borderRadius","bgcolor","boxShadow","marginBottom","width","ListItemStyleLogin","clicked","mouseLeave","setTimeout","textAlign","toDateString","SubscriptionList","subscriptions","setSubscriptions","subsCopy","splice","console","log","map","e","FormModal","open","handleClose","closeModal","setName","setPrice","today","Date","setDate","style","position","top","left","transform","p","display","flexFlow","padding","inputStyle","margin","handleCloseModal","newName","target","value","inputMode","pattern","newPrice","newDate","$d","params","marginTop","LeftCardStatic","marginLeft","LeftCardLogin","handleOpen","closeModel","length","LeftCard","user","setOpen","push","alert"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useUserState } from \"./firebase\";\nimport \"./css/LeftCard.css\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemButton from \"@mui/material/ListItemButton\";\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\nimport ListItemText from \"@mui/material/ListItemText\";\nimport Button from \"@mui/material/Button\";\nimport Modal from \"@mui/material/Modal\";\nimport Box from \"@mui/material/Box\";\nimport TextField from \"@mui/material/TextField\";\nimport DateAdapter from \"@mui/lab/AdapterDayjs\";\nimport LocalizationProvider from \"@mui/lab/LocalizationProvider\";\nimport DatePicker from \"@mui/lab/DatePicker\";\nimport {Typography} from \"@mui/material\";\n\nconst Descriptions = {\n  description: \"Subscriptions\",\n};\n\nconst SubscriptionBar = ({ name, price, date, index, deleteSubscription, status }) => {\n  const [isClicked, setIsClicked] = useState(false)\n\n  const ListItemStyleStatic = {\n    borderRadius: 2,\n    bgcolor: \"rgba(255, 255, 255, 0.9)\",\n    boxShadow: 2,\n    marginBottom: 2,\n    width: \"170%\",\n  }\n\n  const ListItemStyleLogin = {\n    borderRadius: 2,\n    bgcolor: \"rgba(255, 255, 255, 0.9)\",\n    boxShadow: 2,\n    marginBottom: 2,\n    width: \"80%\",\n  }\n\n  const clicked = () => {\n    setIsClicked(!isClicked)\n  }\n\n  const mouseLeave = () => {\n    if(isClicked) setTimeout(()=>{setIsClicked(!isClicked)}, 500);\n  }\n\n  return (\n    <ListItem disablePadding sx={() => {return status === 1 ? ListItemStyleStatic : ListItemStyleLogin}}>\n      <ListItemButton onClick={clicked}\n                      onMouseLeave={mouseLeave}>\n        <ChevronRightIcon />\n        <ListItemText primary={name} style={{textAlign:\"center\"}}/>\n        <ListItemText primary={\"$ \" + price} style={{textAlign:\"center\"}} />\n        <ListItemText primary={date.toDateString()} style={{textAlign:\"center\"}} />\n        {isClicked && <Button onClick={() => deleteSubscription(index)}>Delete?</Button>}\n      </ListItemButton>\n    </ListItem>\n  );\n};\n\nconst SubscriptionList = ({ subscriptions, setSubscriptions }) => {\n  const deleteSubscription = (index) => {\n    let subsCopy = subscriptions;\n    subsCopy.splice(index,1);\n    console.log(subsCopy);\n    setSubscriptions(subsCopy);\n  }\n  return (\n    <List>\n      {subscriptions.map((e, index) => (\n        <SubscriptionBar name={e.name} price={e.price} date={e.date} index={index} deleteSubscription={deleteSubscription} status={0}/>\n      ))}\n    </List>\n  );\n};\n\nconst FormModal = ({ open, handleClose, closeModal }) => {\n  const [name, setName] = useState(\"\");\n  const [price, setPrice] = useState('');\n  const today = new Date();\n  const [date, setDate] = useState(today);\n  const style = {\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    width: \"50%\",\n    bgcolor: \"rgba(255, 255, 255, .95)\",\n    borderRadius: 8,\n    boxShadow: 24,\n    p: 4,\n    display: \"flex\",\n    flexFlow: \"column nowrap\",\n    padding: \"5rem\",\n  };\n\n  const inputStyle = {\n    margin: \"0.5rem 0\",\n    marginBottom: \"15px\",\n  };\n\n  const handleCloseModal = (name, price, date) => {\n    handleClose(name, price, date);\n    setName('')\n    setPrice('')\n    setDate(today)\n  }\n\n  return (\n    <Modal\n      open={open}\n      onClose={closeModal}\n      aria-labelledby=\"modal-modal-title\"\n      aria-describedby=\"modal-modal-description\"\n    >\n      <Box sx={style}>\n        <Typography sx={inputStyle}> Enter Subscription Data: </Typography>\n        <TextField\n          sx={inputStyle}\n          id=\"outlined-basic\"\n          label=\"Name\"\n          variant=\"outlined\"\n          value={name}\n          onChange={(newName) => setName(newName.target.value)}\n        />\n        <TextField\n          sx={inputStyle}\n          label=\"Price\"\n          value={price}\n          inputProps={{ inputMode: \"numeric\", pattern: \"[0-9]*\" }}\n          onChange={(newPrice) => setPrice(newPrice.target.value)}\n        />\n        <LocalizationProvider sx={inputStyle} dateAdapter={DateAdapter} >\n          <DatePicker\n            sx={inputStyle}\n            label=\"Due Date\"\n            value={date}\n            onChange={(newDate) => {\n              setDate(newDate.$d);\n            }}\n            renderInput={(params) => <TextField {...params} />}\n          />\n        </LocalizationProvider>\n        <Button\n          style={{marginTop: \"20px\"}}\n          variant=\"contained\"\n          onClick={() => handleCloseModal(name, price, date)}\n        >\n          Submit Subscription\n        </Button>\n      </Box>\n    </Modal>\n  );\n};\n\nconst LeftCardStatic = () => {\n  const style = {\n    borderRadius: 2,\n    marginTop: 10,\n    marginLeft: 10,\n  }\n\n  return (\n    <div>\n      <div className=\"descriptions\">\n        <div>{Descriptions.description}</div>\n        <List sx={style}>\n          <SubscriptionBar name={\"Netfix\"} price={17.99} date={new Date()} index={0} deleteSubscription={()=>{}} status={1} />\n          <SubscriptionBar name={\"Adobe\"} price={19.99} date={new Date()} index={1} deleteSubscription={()=>{}} status={1} />\n          <SubscriptionBar name={\"Spotify\"} price={4.99} date={new Date()} index={2} deleteSubscription={()=>{}} status={1} />\n          <SubscriptionBar name={\"Paste\"} price={14.99} date={new Date()} index={3} deleteSubscription={()=>{}} status={1} />\n        </List>\n      </div>\n    </div>\n  );\n};\n\nconst LeftCardLogin = ({ subscriptions, setSubscriptions, handleOpen, handleClose, closeModel, open }) => {\n  return (\n      <div className=\"leftCardLogin\">\n        {subscriptions.length > 0 && (\n            <SubscriptionList subscriptions={subscriptions} setSubscriptions={setSubscriptions} />\n        )}\n        <Button padding={10} margin={5} variant=\"contained\" onClick={handleOpen}>\n          Add Subscription\n        </Button>\n        <FormModal\n            open={open}\n            handleClose={handleClose}\n            closeModal={closeModel}\n        />\n      </div>\n  );\n};\n\n\nexport const LeftCard = ({ subscriptions, setSubscriptions }) => {\n  const [user] = useUserState();\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const closeModel = () => {\n    setOpen(false);\n  };\n\n  const handleClose = (name, price, date) => {\n    console.log(name, price, date);\n    let subsCopy = subscriptions;\n    if (name && price && date) {\n      subsCopy.push({ name: name, price: price, date: date });\n      setSubscriptions(subsCopy);\n      setOpen(false);\n    } else {\n      alert('Enter valid inputs')\n    }\n  };\n\n  return (\n    <div className=\"leftcard\">\n      {user ? <LeftCardLogin subscriptions={subscriptions}\n                             setSubscriptions={setSubscriptions}\n                             handleOpen={handleOpen}\n                             handleClose={handleClose}\n                             closeModel={closeModel}\n                             open={open} /> : <LeftCardStatic />}\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}