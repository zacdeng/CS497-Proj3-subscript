{"ast":null,"code":"import _objectSpread from\"/Users/zacdeng/Study/git_repo/subscript/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/zacdeng/Study/git_repo/subscript/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useUserState}from\"./firebase\";import\"./css/LeftCard.css\";import List from\"@mui/material/List\";import ListItem from\"@mui/material/ListItem\";import ListItemButton from\"@mui/material/ListItemButton\";import ChevronRightIcon from'@mui/icons-material/ChevronRight';import ListItemText from\"@mui/material/ListItemText\";import Button from\"@mui/material/Button\";import Modal from\"@mui/material/Modal\";import Box from\"@mui/material/Box\";import TextField from\"@mui/material/TextField\";import DateAdapter from\"@mui/lab/AdapterDayjs\";import LocalizationProvider from\"@mui/lab/LocalizationProvider\";import DatePicker from\"@mui/lab/DatePicker\";// import InputLabel from '@mui/material/InputLabel';\nimport MenuItem from'@mui/material/MenuItem';// import FormControl from '@mui/material/FormControl';\nimport Select from'@mui/material/Select';import{Typography}from\"@mui/material\";import{useData,setData}from\"./firebase\";import netflix from\"./assets/netflix.png\";import spotify from\"./assets/spotify.png\";import prime from\"./assets/prime.png\";import adobe from'./assets/adobe.jpeg';import paste from'./assets/paste.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var subscriptionIcons={\"spotify\":spotify,\"netflix\":netflix,\"prime\":prime,\"adobe\":adobe,\"paste\":paste};var SubscriptionBar=function SubscriptionBar(_ref){var name=_ref.name,price=_ref.price,date=_ref.date,type=_ref.type,index=_ref.index,deleteSubscription=_ref.deleteSubscription,status=_ref.status,path=_ref.path;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isClicked=_useState2[0],setIsClicked=_useState2[1];var ListItemStyleStatic={borderRadius:2,bgcolor:\"rgba(255, 255, 255, 0.9)\",boxShadow:2,marginBottom:2,width:\"170%\"};var ListItemStyleLogin={borderRadius:2,bgcolor:\"rgba(255, 255, 255, 0.9)\",boxShadow:2,marginBottom:2,width:\"75%\"};var clicked=function clicked(){setIsClicked(!isClicked);};var mouseLeave=function mouseLeave(){if(isClicked)setTimeout(function(){setIsClicked(!isClicked);},500);};return/*#__PURE__*/_jsx(ListItem,{disablePadding:true,sx:function sx(){return status===1?ListItemStyleStatic:ListItemStyleLogin;},children:/*#__PURE__*/_jsxs(ListItemButton,{onClick:clicked,onMouseLeave:mouseLeave,children:[subscriptionIcons[name.toLowerCase()]!=null?/*#__PURE__*/_jsx(\"img\",{src:subscriptionIcons[name.toLowerCase()],style:{height:\"30px\",width:\"30px\"}}):/*#__PURE__*/_jsx(ChevronRightIcon,{}),/*#__PURE__*/_jsx(ListItemText,{primary:name,style:{textAlign:\"center\"}}),/*#__PURE__*/_jsx(ListItemText,{primary:\"$ \"+price,style:{textAlign:\"center\"}}),/*#__PURE__*/_jsx(ListItemText,{primary:typeof date===\"string\"?date:date!=null?date.toDateString():\"\",style:{textAlign:\"center\"}}),/*#__PURE__*/_jsx(ListItemText,{primary:type===12?\"Monthly\":\"Annually\",style:{textAlign:\"center\"}}),isClicked&&/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return deleteSubscription(index,path);},children:\"Delete?\"})]})});};var SubscriptionList=function SubscriptionList(_ref2){var subscriptions=_ref2.subscriptions,path=_ref2.path;var deleteSubscription=function deleteSubscription(index){var subsCopy=subscriptions;subsCopy.splice(index,1);console.log(subsCopy);setData(path,subsCopy);};return/*#__PURE__*/_jsx(List,{children:subscriptions.map(function(e,index){return/*#__PURE__*/_jsx(SubscriptionBar,{name:e.name,price:e.price,date:e.date,type:e.type,index:index,deleteSubscription:deleteSubscription,status:0,path:path});})});};var FormModal=function FormModal(_ref3){var open=_ref3.open,handleClose=_ref3.handleClose,closeModal=_ref3.closeModal,user=_ref3.user;var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),price=_useState6[0],setPrice=_useState6[1];var today=new Date();var _useState7=useState(today),_useState8=_slicedToArray(_useState7,2),date=_useState8[0],setDate=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),type=_useState10[0],setType=_useState10[1];var style={position:\"absolute\",top:\"50%\",left:\"50%\",transform:\"translate(-50%, -50%)\",width:\"50%\",bgcolor:\"rgba(255, 255, 255, .95)\",borderRadius:8,boxShadow:24,p:4,display:\"flex\",flexFlow:\"column nowrap\",padding:\"5rem\"};var inputStyle={margin:\"0.5rem 0\",marginBottom:\"15px\"};var handleCloseModal=function handleCloseModal(name,price,date,type,user){handleClose(name,price,date,type,\"/\"+reformatPath(user.email)+\"/subscriptions\");// console.log(currentSubscriptions);\n// var copySubcriptions = currentSubscriptions;\n// console.log(currentSubscriptions);\n// copySubcriptions.push({\n//   name: name,\n//   price: price,\n//   date: date\n// });\n// console.log(currentSubscriptions);\n// console.log(\"-----------\");\n};return/*#__PURE__*/_jsx(Modal,{open:open,onClose:closeModal,\"aria-labelledby\":\"modal-modal-title\",\"aria-describedby\":\"modal-modal-description\",children:/*#__PURE__*/_jsxs(Box,{sx:style,children:[/*#__PURE__*/_jsx(Typography,{sx:inputStyle,children:\" Enter Subscription Data: \"}),/*#__PURE__*/_jsx(TextField,{sx:inputStyle,id:\"outlined-basic\",label:\"Name\",variant:\"outlined\",value:name,onChange:function onChange(newName){return setName(newName.target.value);}}),/*#__PURE__*/_jsx(TextField,{sx:inputStyle,label:\"Price\",value:price,inputProps:{inputMode:\"numeric\",pattern:\"[0-9]*\"},onChange:function onChange(newPrice){return setPrice(newPrice.target.value);}}),/*#__PURE__*/_jsx(LocalizationProvider,{sx:inputStyle,dateAdapter:DateAdapter,children:/*#__PURE__*/_jsx(DatePicker,{sx:inputStyle,label:\"Due Date\",value:date,onChange:function onChange(newDate){setDate(newDate.$d);},renderInput:function renderInput(params){return/*#__PURE__*/_jsx(TextField,_objectSpread({},params));}})}),/*#__PURE__*/_jsxs(Select,{sx:inputStyle,label:\"Type\",labelId:\"demo-simple-select-label\",id:\"demo-simple-select\",value:type,onChange:function onChange(newType){return setType(newType.target.value);},children:[/*#__PURE__*/_jsx(MenuItem,{value:12,children:\"Monthly\"}),/*#__PURE__*/_jsx(MenuItem,{value:1,children:\"Annually\"})]}),/*#__PURE__*/_jsx(Button,{style:{marginTop:\"20px\"},variant:\"contained\",onClick:function onClick(){return handleCloseModal(name,price,date,type,user);},children:\"Submit Subscription\"})]})});};var LeftCardStatic=function LeftCardStatic(){var style={borderRadius:2};// font-weight: bold;\n// font-size: x-large;\n// color: dodgerblue;\n// line-height: 20px;\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{paddingTop:\"50px\",fontSize:\"22px\",fontWeight:\"bold\",color:\"dodgerblue\",fontFamily:\"Gill Sans\"},children:\" Examples for subscript \"}),/*#__PURE__*/_jsx(\"div\",{className:\"descriptions\",children:/*#__PURE__*/_jsxs(List,{sx:style,children:[/*#__PURE__*/_jsx(SubscriptionBar,{name:\"Netflix\",price:17.99,date:new Date(),type:12,index:0,deleteSubscription:function deleteSubscription(){},status:1}),/*#__PURE__*/_jsx(SubscriptionBar,{name:\"Adobe\",price:19.99,date:new Date(),type:12,index:1,deleteSubscription:function deleteSubscription(){},status:1}),/*#__PURE__*/_jsx(SubscriptionBar,{name:\"Spotify\",price:4.99,date:new Date(),type:12,index:2,deleteSubscription:function deleteSubscription(){},status:1}),/*#__PURE__*/_jsx(SubscriptionBar,{name:\"Paste\",price:14.99,date:new Date(),type:12,index:3,deleteSubscription:function deleteSubscription(){},status:1}),/*#__PURE__*/_jsx(SubscriptionBar,{name:\"Prime\",price:12.99,date:new Date(),type:12,index:4,deleteSubscription:function deleteSubscription(){},status:1})]})})]});};var reformatPath=function reformatPath(path){return path.replace(/[^A-Z0-9]+/ig,\"_\");};var LeftCardLogin=function LeftCardLogin(_ref4){var subscriptions=_ref4.subscriptions,setSubscriptions=_ref4.setSubscriptions,handleOpen=_ref4.handleOpen,handleClose=_ref4.handleClose,closeModel=_ref4.closeModel,open=_ref4.open,user=_ref4.user;var _useData=useData(\"/\"+reformatPath(user.email)+\"/subscriptions\"),_useData2=_slicedToArray(_useData,3),subscriptionsData=_useData2[0],loading=_useData2[1],error=_useData2[2];if(error)return/*#__PURE__*/_jsx(\"h2\",{children:error});if(loading)return/*#__PURE__*/_jsx(\"h2\",{children:\"Loading the subscriptions...\"});setSubscriptions(subscriptionsData);var style={marginLeft:-22};return/*#__PURE__*/_jsxs(\"div\",{className:\"leftCardLoginPage\",children:[/*#__PURE__*/_jsx(\"p\",{style:{paddingTop:\"50px\",fontSize:\"22px\",fontWeight:\"bold\",color:\"dodgerblue\",fontFamily:\"Gill Sans\"},children:\" Manage your subscriptions ! \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"leftCardLogin\",children:[subscriptions!=null&&subscriptions.length>0?/*#__PURE__*/_jsx(SubscriptionList,{subscriptions:subscriptions,path:\"/\"+reformatPath(user.email)+\"/subscriptions\"}):/*#__PURE__*/_jsx(\"h2\",{children:\"You haven't added any subscriptions yet!\"}),/*#__PURE__*/_jsx(Button,{sx:style,variant:\"contained\",onClick:handleOpen,children:\"Add Subscription\"}),/*#__PURE__*/_jsx(FormModal,{open:open,handleClose:handleClose,closeModal:closeModel,subscriptions:subscriptions!=null?subscriptions:[],user:user})]})]});};export var LeftCard=function LeftCard(_ref5){var subscriptions=_ref5.subscriptions,setSubscriptions=_ref5.setSubscriptions;var _useUserState=useUserState(),_useUserState2=_slicedToArray(_useUserState,1),user=_useUserState2[0];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),open=_useState12[0],setOpen=_useState12[1];var handleOpen=function handleOpen(){setOpen(true);};var closeModel=function closeModel(){setOpen(false);};var handleClose=function handleClose(name,price,date,type,path){console.log(name,price,date,type);var subsCopy=subscriptions;if(subsCopy==null){subsCopy=[];}if(name&&price&&date){subsCopy.push({name:name,price:price,date:date.toDateString(),type:type});console.log(subsCopy);setData(path,subsCopy);setOpen(false);}else{alert('Enter valid inputs');}};return/*#__PURE__*/_jsx(\"div\",{className:\"leftcard\",children:user?/*#__PURE__*/_jsx(LeftCardLogin,{subscriptions:subscriptions,setSubscriptions:setSubscriptions,handleOpen:handleOpen,handleClose:handleClose,closeModel:closeModel,open:open,user:user}):/*#__PURE__*/_jsx(LeftCardStatic,{})});};","map":{"version":3,"sources":["/Users/zacdeng/Study/git_repo/subscript/src/utilities/LeftCard.js"],"names":["React","useState","useUserState","List","ListItem","ListItemButton","ChevronRightIcon","ListItemText","Button","Modal","Box","TextField","DateAdapter","LocalizationProvider","DatePicker","MenuItem","Select","Typography","useData","setData","netflix","spotify","prime","adobe","paste","subscriptionIcons","SubscriptionBar","name","price","date","type","index","deleteSubscription","status","path","isClicked","setIsClicked","ListItemStyleStatic","borderRadius","bgcolor","boxShadow","marginBottom","width","ListItemStyleLogin","clicked","mouseLeave","setTimeout","toLowerCase","height","textAlign","toDateString","SubscriptionList","subscriptions","subsCopy","splice","console","log","map","e","FormModal","open","handleClose","closeModal","user","setName","setPrice","today","Date","setDate","setType","style","position","top","left","transform","p","display","flexFlow","padding","inputStyle","margin","handleCloseModal","reformatPath","email","newName","target","value","inputMode","pattern","newPrice","newDate","$d","params","newType","marginTop","LeftCardStatic","paddingTop","fontSize","fontWeight","color","fontFamily","replace","LeftCardLogin","setSubscriptions","handleOpen","closeModel","subscriptionsData","loading","error","marginLeft","length","LeftCard","setOpen","push","alert"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useUserState } from \"./firebase\";\nimport \"./css/LeftCard.css\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemButton from \"@mui/material/ListItemButton\";\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\nimport ListItemText from \"@mui/material/ListItemText\";\nimport Button from \"@mui/material/Button\";\nimport Modal from \"@mui/material/Modal\";\nimport Box from \"@mui/material/Box\";\nimport TextField from \"@mui/material/TextField\";\nimport DateAdapter from \"@mui/lab/AdapterDayjs\";\nimport LocalizationProvider from \"@mui/lab/LocalizationProvider\";\nimport DatePicker from \"@mui/lab/DatePicker\";\n// import InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\n// import FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\nimport {Typography} from \"@mui/material\";\nimport { useData, setData } from \"./firebase\";\nimport netflix from \"./assets/netflix.png\";\nimport spotify from \"./assets/spotify.png\";\nimport prime from \"./assets/prime.png\";\nimport adobe from './assets/adobe.jpeg';\nimport paste from './assets/paste.png';\n\nconst subscriptionIcons = {\n  \"spotify\": spotify,\n  \"netflix\": netflix,\n  \"prime\": prime,\n  \"adobe\": adobe,\n  \"paste\": paste,\n}\n\nconst SubscriptionBar = ({ name, price, date, type, index, deleteSubscription, status, path }) => {\n  const [isClicked, setIsClicked] = useState(false)\n\n  const ListItemStyleStatic = {\n    borderRadius: 2,\n    bgcolor: \"rgba(255, 255, 255, 0.9)\",\n    boxShadow: 2,\n    marginBottom: 2,\n    width: \"170%\",\n  }\n\n  const ListItemStyleLogin = {\n    borderRadius: 2,\n    bgcolor: \"rgba(255, 255, 255, 0.9)\",\n    boxShadow: 2,\n    marginBottom: 2,\n    width: \"75%\",\n  }\n\n  const clicked = () => {\n    setIsClicked(!isClicked)\n  }\n\n  const mouseLeave = () => {\n    if(isClicked) setTimeout(()=>{setIsClicked(!isClicked)}, 500);\n  }\n\n\n  return (\n    <ListItem disablePadding sx={() => {return status === 1 ? ListItemStyleStatic : ListItemStyleLogin}}>\n      <ListItemButton onClick={clicked}\n                      onMouseLeave={mouseLeave}>\n        {subscriptionIcons[name.toLowerCase()] != null ? <img src={subscriptionIcons[name.toLowerCase()]} style={{height:\"30px\", width: \"30px\"}}/> : <ChevronRightIcon />}\n        <ListItemText primary={name} style={{textAlign:\"center\"}}/>\n        <ListItemText primary={\"$ \" + price} style={{textAlign:\"center\"}} />\n        <ListItemText primary={typeof date === \"string\" ? date : date != null ? date.toDateString() : \"\"} style={{textAlign:\"center\"}} />\n        <ListItemText primary={type === 12 ? \"Monthly\": \"Annually\"} style={{textAlign:\"center\"}} />\n        {isClicked && <Button onClick={() => deleteSubscription(index, path)}>Delete?</Button>}\n      </ListItemButton>\n    </ListItem>\n  );\n};\n\nconst SubscriptionList = ({ subscriptions, path}) => {\n  const deleteSubscription = (index) => {\n    let subsCopy = subscriptions;\n    subsCopy.splice(index,1);\n    console.log(subsCopy);\n    setData(path, subsCopy);\n  }\n  return (\n    <List>\n      {subscriptions.map((e, index) => (\n        <SubscriptionBar name={e.name} price={e.price} date={e.date} type={e.type} index={index} deleteSubscription={deleteSubscription} status={0} path={path}/>\n      ))}\n    </List>\n  );\n};\n\nconst FormModal = ({ open, handleClose, closeModal, user }) => {\n  const [name, setName] = useState(\"\");\n  const [price, setPrice] = useState('');\n  const today = new Date();\n  const [date, setDate] = useState(today);\n  const [type, setType] = useState(\"\");\n\n  const style = {\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    width: \"50%\",\n    bgcolor: \"rgba(255, 255, 255, .95)\",\n    borderRadius: 8,\n    boxShadow: 24,\n    p: 4,\n    display: \"flex\",\n    flexFlow: \"column nowrap\",\n    padding: \"5rem\",\n  };\n\n  const inputStyle = {\n    margin: \"0.5rem 0\",\n    marginBottom: \"15px\",\n  };\n\n  const handleCloseModal = (name, price, date, type, user) => {\n    handleClose(name, price, date, type, \"/\" + reformatPath(user.email) + \"/subscriptions\");\n\n    // console.log(currentSubscriptions);\n    // var copySubcriptions = currentSubscriptions;\n    // console.log(currentSubscriptions);\n    // copySubcriptions.push({\n    //   name: name,\n    //   price: price,\n    //   date: date\n    // });\n    // console.log(currentSubscriptions);\n    // console.log(\"-----------\");\n  }\n\n  return (\n    <Modal\n      open={open}\n      onClose={closeModal}\n      aria-labelledby=\"modal-modal-title\"\n      aria-describedby=\"modal-modal-description\"\n    >\n      <Box sx={style}>\n        <Typography sx={inputStyle}> Enter Subscription Data: </Typography>\n        <TextField\n          sx={inputStyle}\n          id=\"outlined-basic\"\n          label=\"Name\"\n          variant=\"outlined\"\n          value={name}\n          onChange={(newName) => setName(newName.target.value)}\n        />\n        <TextField\n          sx={inputStyle}\n          label=\"Price\"\n          value={price}\n          inputProps={{ inputMode: \"numeric\", pattern: \"[0-9]*\" }}\n          onChange={(newPrice) => setPrice(newPrice.target.value)}\n        />\n        <LocalizationProvider sx={inputStyle} dateAdapter={DateAdapter} >\n          <DatePicker\n            sx={inputStyle}\n            label=\"Due Date\"\n            value={date}\n            onChange={(newDate) => {\n              setDate(newDate.$d);\n            }}\n            renderInput={(params) => <TextField {...params} />}\n          />\n        </LocalizationProvider>\n        <Select\n          sx={inputStyle}\n          label=\"Type\"\n          labelId=\"demo-simple-select-label\"\n          id=\"demo-simple-select\"\n          value={type}\n          onChange={(newType) => setType(newType.target.value)}\n        >\n          <MenuItem value={12}>Monthly</MenuItem>\n          <MenuItem value={1}>Annually</MenuItem>\n        </Select>\n        <Button\n          style={{marginTop: \"20px\"}}\n          variant=\"contained\"\n          onClick={() => handleCloseModal(name, price, date, type, user)}\n        >\n          Submit Subscription\n        </Button>\n      </Box>\n    </Modal>\n  );\n};\n\nconst LeftCardStatic = () => {\n  const style = {\n    borderRadius: 2,\n  }\n  // font-weight: bold;\n  // font-size: x-large;\n  // color: dodgerblue;\n  // line-height: 20px;\n  return (\n    <div>\n      <p style={{paddingTop: \"50px\",\n                 fontSize: \"22px\",\n                 fontWeight: \"bold\",\n                 color: \"dodgerblue\",\n                 fontFamily: \"Gill Sans\"}}> Examples for subscript </p>\n      <div className=\"descriptions\">\n        <List sx={style}>\n          <SubscriptionBar name={\"Netflix\"} price={17.99} date={new Date()} type={12} index={0} deleteSubscription={()=>{}} status={1} />\n          <SubscriptionBar name={\"Adobe\"} price={19.99} date={new Date()} type={12} index={1} deleteSubscription={()=>{}} status={1} />\n          <SubscriptionBar name={\"Spotify\"} price={4.99} date={new Date()} type={12} index={2} deleteSubscription={()=>{}} status={1} />\n          <SubscriptionBar name={\"Paste\"} price={14.99} date={new Date()} type={12} index={3} deleteSubscription={()=>{}} status={1} />\n          <SubscriptionBar name={\"Prime\"} price={12.99} date={new Date()} type={12} index={4} deleteSubscription={()=>{}} status={1} />\n        </List>\n      </div>\n    </div>\n  );\n};\n\nconst reformatPath = (path) => path.replace(/[^A-Z0-9]+/ig, \"_\");\n\nconst LeftCardLogin = ({ subscriptions, setSubscriptions, handleOpen, handleClose, closeModel, open, user }) => {\n  const [subscriptionsData, loading, error] = useData(\"/\" + reformatPath(user.email) + \"/subscriptions\");\n  if (error) return <h2>{error}</h2>;\n  if (loading) return <h2>Loading the subscriptions...</h2>;\n  setSubscriptions(subscriptionsData);\n\n  const style = {\n    marginLeft: -22,\n  }\n  return (\n      <div className=\"leftCardLoginPage\">\n        <p style={{paddingTop: \"50px\",\n          fontSize: \"22px\",\n          fontWeight: \"bold\",\n          color: \"dodgerblue\",\n          fontFamily: \"Gill Sans\"}}> Manage your subscriptions ! </p>\n        <div className=\"leftCardLogin\">\n          {subscriptions != null && subscriptions.length > 0 ? (\n              <SubscriptionList subscriptions={subscriptions} path={\"/\" + reformatPath(user.email) + \"/subscriptions\"}/>\n          ) : <h2>You haven't added any subscriptions yet!</h2>}\n          <Button sx={style} variant=\"contained\" onClick={handleOpen}>\n            Add Subscription\n          </Button>\n          <FormModal\n              open={open}\n              handleClose={handleClose}\n              closeModal={closeModel}\n              subscriptions={subscriptions != null ? subscriptions : []}\n              user={user}\n          />\n        </div>\n      </div>\n  );\n};\n\n\nexport const LeftCard = ({ subscriptions, setSubscriptions }) => {\n  const [user] = useUserState();\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const closeModel = () => {\n    setOpen(false);\n  };\n\n  const handleClose = (name, price, date, type, path) => {\n    console.log(name, price, date, type);\n    let subsCopy = subscriptions;\n    if (subsCopy == null){\n      subsCopy = [];\n    }\n    if (name && price && date) {\n      subsCopy.push({ name: name, price: price, date: date.toDateString(), type: type });\n      console.log(subsCopy);\n      setData(path, subsCopy);\n      setOpen(false);\n    } else {\n      alert('Enter valid inputs')\n    }\n  };\n\n  return (\n    <div className=\"leftcard\">\n      {user ? <LeftCardLogin subscriptions={subscriptions}\n                             setSubscriptions={setSubscriptions}\n                             handleOpen={handleOpen}\n                             handleClose={handleClose}\n                             closeModel={closeModel}\n                             open={open}\n                             user={user} /> : <LeftCardStatic />}\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}